(this["webpackJsonpdemo-game"]=this["webpackJsonpdemo-game"]||[]).push([[0],{34:function(e,t,c){},35:function(e,t,c){},40:function(e,t,c){"use strict";c.r(t);var a=c(4),r=c.n(a),n=c(28),o=c.n(n),i=(c(34),c(14)),s=c(43),j=c(19),b=(c(35),c(8)),u=c(6),d=c(7),O=c(9),m=c(27),f={KeyW:"moveForward",KeyS:"moveBackward",KeyA:"moveLeft",KeyD:"moveRight",Space:"jump"};var l=function(){var e=Object(a.useState)({moveForward:!1,moveBackward:!1,moveLeft:!1,moveRight:!1,jump:!1}),t=Object(b.a)(e,2),c=t[0],r=t[1],n=Object(a.useCallback)((function(e){f[e.code]&&r((function(t){return Object(O.a)(Object(O.a)({},t),{},Object(d.a)({},f[e.code],!1))}))}),[r]),o=Object(a.useCallback)((function(e){f[e.code]&&r((function(t){return Object(O.a)(Object(O.a)({},t),{},Object(d.a)({},f[e.code],!0))}))}),[r]);return Object(m.a)("w,a,s,d,space",o,{keydown:!0,keyup:!1},[o]),Object(m.a)("w,a,s,d,space",n,{keyup:!0,keydown:!1},[n]),c},v=c(10),h=function(){var e=Object(i.c)().camera,t=Object(j.b)((function(){return{position:[0,2,0],mass:1,type:"Dynamic"}})),c=Object(b.a)(t,2),r=c[0],n=c[1],o=Object(a.useRef)([0,0,0]),s=l(),d=s.jump,O=s.moveBackward,m=s.moveForward,f=s.moveLeft,h=s.moveRight;return Object(a.useEffect)((function(){n.velocity.subscribe((function(e){o.current=e}))}),[n.velocity]),Object(i.b)((function(){var t=new u.Vector3,c=new u.Vector3(0,0,(O?1:0)-(m?1:0)),a=new u.Vector3((f?1:0)-(h?1:0),0,0);t.subVectors(c,a).normalize().multiplyScalar(6).applyEuler(e.rotation),n.velocity.set(t.x,o.current[1],t.z),d&&Math.abs(Number(o.current[1].toFixed(2)))<.05&&n.velocity.set(o.current[0],8,o.current[2])})),Object(v.jsxs)("mesh",{ref:r,castShadow:!0,receiveShadow:!0,children:[Object(v.jsx)("boxBufferGeometry",{args:[1,1,1]}),Object(v.jsx)("meshStandardMaterial",{color:"red"})]})},p=function(e){var t=Object(j.c)((function(){return Object(O.a)({rotation:[-Math.PI/2,0,0],position:[0,-1,0]},e)})),c=Object(b.a)(t,1)[0];return Object(v.jsxs)("mesh",{ref:c,receiveShadow:!0,children:[Object(v.jsx)("planeBufferGeometry",{attach:"geometry",args:[100,100]}),Object(v.jsx)("meshStandardMaterial",{attach:"material",color:"blue"})]})};var y=function(){return Object(v.jsx)("div",{id:"app",children:Object(v.jsx)(i.a,{children:Object(v.jsxs)(j.a,{gravity:[0,-30,0],children:[Object(v.jsx)(s.a,{sunPosition:[100,20,100]}),Object(v.jsx)("ambientLight",{intensity:.25}),Object(v.jsx)("pointLight",{castShadow:!0,intensity:.7,position:[100,100,100]}),Object(v.jsx)(h,{}),Object(v.jsx)(p,{})]})})})};o.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(y,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.f1b9b091.chunk.js.map